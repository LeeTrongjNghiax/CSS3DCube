<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D Cube</title>

  <link rel="stylesheet" href="CSS/style2.css">
</head>
<body>
  <div class="rubik-cube">
    <div class="core">
      <div id="up" class="face">UP</div>
      <div id="down" class="face">DOWN</div>
      <div id="front" class="face">FRONT</div>
      <div id="back" class="face">BACK</div>
      <div id="right" class="face">RIGHT</div>
      <div id="left" class="face">LEFT</div>
    </div>
  </div>

  <label for="length">Cube length:</label>
  <input type="range" name="length" min="50" max="500" value="100" id="length">
  <span id="resultLength"></span>
  <br>

  <label for="rotateY">Rotate X:</label>
  <input type="range" name="rotateX" min="-360" max="360" value="0" id="rotateX">
  <span id="resultRX"></span>
  <br>

  <label for="rotateY">Rotate Y:</label>
  <input type="range" name="rotateY" min="-360" max="360" value="0" id="rotateY">
  <span id="resultRY"></span>
  <br>

  <label for="rotateY">Rotate Z:</label>
  <input type="range" name="rotateZ" min="-360" max="360" value="0" id="rotateZ">
  <span id="resultRZ"></span>
  <br>

  <label for="perspective">Perspective:</label>
  <input type="range" name="perspective" min="0" max="2000" value="1000" id="perspective">
  <span id="resultP"></span>
  <br>

  <script>
    loop = () => {
      let cL = document.querySelector("#length");
      let rX = document.querySelector("#rotateX");
      let rY = document.querySelector("#rotateY");
      let rZ = document.querySelector("#rotateZ");
      let p = document.querySelector("#perspective");

      document.querySelector("#resultLength").innerHTML = cL.value;
      document.querySelector("#resultRX").innerHTML = rX.value;
      document.querySelector("#resultRY").innerHTML = rY.value;
      document.querySelector("#resultRZ").innerHTML = rZ.value;
      document.querySelector("#resultP").innerHTML = p.value;

      document.querySelector(".rubik-cube > .core").style.transform = `rotateX(${rX.value}deg) rotateY(${rY.value}deg) rotateZ(${rZ.value}deg)`;
      document.querySelector(".rubik-cube").style.perspective = `${p.value}px`;
      document.querySelector(':root').style.setProperty("--length", `${cL.value}px`);

      requestAnimationFrame(loop)
    }

    loop();
  </script>
</body>
</html>